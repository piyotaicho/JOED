# 合併症アンケートシステム JOED version.5
## 変更履歴
- 2023-03-12 手術時間validationの修正に伴うインポート不具合.
- 2023-02-07 Windowsインストーラでネットワークドライブへの制限付きインストールを実装(セキュリティ面で問題があり非推奨). コマンドラインオプション使用中の初期化エラーへのハンドリング対応.
- 2023-02-03 コマンドラインオプションエラーのハンドリングを安全に修正.
- 2023-01-20 JSONインポートの不具合を修正. UPDATEの誤修正を修正. ネットワークドライブへのインストールに警告.
- 2023-01-18 backgroundの起動プロセスを整理, unhandled promise例外へ対処.
- 2023-01-14 上書きインストールにおいて動作不良となり得る不具合に対処. macでのフォント展開不良に伴いインポートのUIを一部変更, 登録エラーの保存を可能に. ビルド1109に更新.
- 2022-12-23 日付validationを修正. ビルド1087 に更新.
- 2022-12-15 各種モジュールの設計をrefine. 動作確認. ReleaseのためmasterへPR. v1.3.1079リリース, Windows 32bitは未検証.
- 2022-12-12 xxhashjsまわりの実装をライブラリの性質にあわせて修正.
- 2022-12-10 Windows11のアプリケーションの取扱に対応(右クリックアンインストール可能に). Electronを21.3.3へ. UIを少しだけ修正.
- 2022-11-27 Electronを21系列最新に更新とそれに伴う修正. COPYRIGHTをpackagejsonから取得. データベースインターフェースを簡素化.
- 2022-11-26 開発パッケージを更新. それに伴う機能面に反映されない修正.
- 2022-11-25 Electronを20系列最新(20.3.7)に更新. Hash検索できないバグ修正.
- 2022-11-24 細かい修正. 施設マスタを2022-11-22時点の情報にアップデート. エクスポートを2022仕様に. 
- 2022-11-23 Electron update to 13.
- 2022-11-17 Merge update.
- 2023-11-08 各種ライブラリをアップデート. ElectronはWindows 7対応の最終バージョンである22.3.27へ.
- 2022-12-15 各種モジュールの設計をrefine. 動作確認. ReleaseのためmasterへPR. v1.3.1079リリース, Windows 32bitは未検証.
- 2022-12-12 xxhashjsまわりの実装をライブラリの性質にあわせて修正.
- 2022-12-10 Windows11のアプリケーションの取扱に対応(右クリックアンインストール可能に). Electronを21.3.3へ. UIを少しだけ修正.
- 2022-11-27 Electronを21系列最新に更新とそれに伴う修正. COPYRIGHTをpackagejsonから取得. データベースインターフェースを簡素化.
- 2022-11-26 開発パッケージを更新. それに伴う機能面に反映されない修正.
- 2022-11-25 Electronを20系列最新(20.3.7)に更新. Hash検索できないバグ修正.
- 2022-11-24 細かい修正. 施設マスタを2022-11-22時点の情報にアップデート. エクスポートを2022仕様に. 
- 2022-11-23 Electron update to 13.
- 2022-11-17 Merge update.
- 2022-10-26 vue2のパッケージなどを更新.
- 2022-10-25 エクスポートの構成を若干変更, 全てバックアップを選択可能に.
- 2022-08-26 データベースエンジンを変更.
- 2022-08-25 ロボット手術のカテゴリ分けの失敗を修正.
- 2022-05-30 実施手術の付随情報エラー処理を修正.
- 2022-05-26 [Version1.3] v1.3.876リリース. Windows 32bitへの対応は行わないこととしました.
- 2022-05-22 自由入力解析ルールを微調整.
- 2022-05-16 1.3リリースに向けて最終調整.
- 2022-04-05 CSVimportをデフォルトに,CSVimportでprocedureのdescription読み込みを実装. Validationにdescriptionのチェックも実装. マスタ変更を確定.
- 2022-03-24 開発パッケージアップデート
- 2022-03-16 子宮鏡の補足情報入力に対応,卵管鏡の実施形態をチェックボックスに、合併症入力の問題点・表記修正.
- 2022-01-20 エクスポートにエラーがあったため修正. 合併症マスタのデフォルト展開が2020年のままだったものを2021年に修正.
- 2022-01-19 [Version1.2] v1.2.749リリース.
- 2022-01-18 リリースに向けて各種調整.
- 2021-12-23 [Version1.2] Electronを12にアップデート. リリースに向けてマスタや機能変更・修正.
- 2021-10-12 提出データのレコードハッシュを衝突回避のためユニークキーから作成するように実装変更.
- 2021-10-05 安定動作のためnedbからseald/nedbにエンジンを変更したブランチをマージ.
- 2021-06-04 Version1.1改修の際に卵巣出血が診断マスタから除外されてしまっていた状態を改善. 配布物にデータファイル共有しての利用についてマニュアルを用意.
- 2021-03-25 ES2020表記導入に伴う修正で カテゴリー抽出に問題があった場合に対応. 例外処理の範囲を広げてVEdit-StoreCase()でのロックアップに対応. バグ修正リリース.
- 2021-03-15 eslintとルールを更新, それに伴うソース修正. 当面使用の予定もないNCDId非入力をデフォルトに.
- 2021-03-07 エラーチェックのバグを修正. エクスポートまわりを若干修正. 動作確認がとれたのでリリース作成.
- 2021-03-04 合併症をマスタに移動, それに伴い合併症のより確実なエラーチェックが可能に. バックアップデータエクスポートのエラーチェック回避オプションを設置. 診断・手術の再編集の動作をより安定化.
- 2021-02-25 dirty CSV(/,$/)への対応. CSVインポートのボタンの状態を変更. CSVインポート操作時にルールのチェックを実装. ルール作成部分のCSSをより安定したものに変更.
- 2021-02-23 Typoの修正など. Releaseに取扱説明書を掲載(markdownへの移行も検討中).
- 2021-02-21 Importに欠損値が多くなるのにあわせて手入力に一時保存を実装. 診断・手術に再編集を再実装. コマンドラインオプションに --datadir --config を追加(ファイルの共有は不可, 簡易的なロック機構あり). UXの若干見直し.
- 2021-02-14 ThreePaneの動作不良を解決. インポートCSVのバグ修正. マスターの正規化バグ修正. 1.1リリース
- 2021-02-10 Kコード, ICD10を自由入力しての検索が可能に, またこれまでの自由入力からのヒューリスティックな置換を充実, 検索での対応を容易にした. セキュリティ問題からelectronをバージョンアップ. Version1.1リリース準備.
- 2021-01-28 診断・術式入力の内部処理を変更. 自由入力欄はあくまで主たる目的は検索という部分を強化. そのほか大幅にコンポーネントの名称や階層を整理.
- 2021-01-27 [Version1.1] JSONでのデータベースインポートを実装.
- 2021-01-26 [Version1.1] generic CSVのインポートを実装. ハッシュでの検索の実装と,手術時間での検索方法を変更.
- 2021-01-08 重複入力チェックの不具合を解消, エクスポート時に重複入力チェックを実装. エラーメッセージ中で改行出来るように機能強化.
- 2021-01-05 診断・術式の表記変更については自動置換するように仕様追加. (カテゴリをまたぐ変換は影響が大きいので見送り)
- 2020-12-30 [macos] コピーアンドペーストのため, 編集メニューを設置.
- 2020-11-29 表示に修正を加えて, githubのリリース(v1.0.333)を作成.
- 2020-11-28 リリースビルド Version 1.0 build 311 ネット先行公開
- 2020-11-24 キーバインドをもっと統一. ラベル付きチェックボックスのスタイルがmac/windowsで変わるので微調整. バージョン番号をpack- 2020-11-27 自由入力の使用をより制限. Windowsのインストーラー(nsis)用スクリプト完成(要nsis). macのdmgに背景がついた. 正真正銘の
- 2020-11-17 パスワード認証が機能しないのを修正. macosの操作に合わせてリストでのアイコンを使用しての削除を alt/option+clickに変・- 2020-11-21 キーボードショートカットがmacだと大幅に衝突するので修正. リスト画面：j-次 k-前 o/enter-開く ctrl+d-削除 ctrl/cmd+n-+d-項目削除 ctrl/cmd+s-保存 ctrl/cmd+n-保存して新規レコード shift+ctrl/cmd+j-保存して次 shift+ctrl/cmd+k-保存して前 ctrl/cmd+u-・- 2020-11-22 游ゴシックのウエイト問題が解決できず. SansSerifでもうどうにでもなれ的に(動作検証 済み).
- 2020-11-12 起動時間短縮とチャンクが大きくなって動作が不安定になったのでdynamic loadingを使用したりいろいろ修正. その他安定性確- 2020-11-14 ヘッダの年次でALLを廃止. 設定などの部分のメニュー位置変更とあわせてrouterとの整合性を改善. そのほか細かい修正多数. - 2020-11-15 デフォルトのキーバインドを CTRL+Enter:登録 CTRL+X:削除 CTRL+W:ダイアログを閉じて前へ戻る CTRL+J:次(+SHIFTで登録して- 2020-11-16 診断のチェックがちゃんと出来ていなかった点を修正. macosでSHIFT+CTRL+JがIM切り替えと衝突するので登録して次をalt/opti移動に変更.
- 2020-11-10 より確実な匿名化のために大幅に仕様変更. 対応表となるUniqueIdを廃止. レコードのhashを出力するが, SALTは初回 起動時の・シンに引っ越したら問い合わせはもうできない(問い合わせは未実装).
- 2020-11-04 JSGOE,NCD idが入力されていた場合は編集可能にする. Listでのキーボード操作を実装(上下矢印 kj でフォーカス移動).
- 2020-11-03 tabIndexの問題で背景のコントロールにフォーカスが移動してしまう問題をほぼ修正. TheWrapperにも同様の仕掛けを 実装.
- 2020-10-30 手術時間でのソートが正しく動作するように. 合併症入力画面の動作不具合があるためリアクティブ周りを修正. 命名 規則に則・- 2020-10-31 Exportのエラーチェックにtypoあり修正. 正規表現の解釈周りで複数項目検索ができなかったので修正. 内 容だけでよい配列・・- 2020-11-01 合併症内容の微妙な修正. チェックボックスを自前コントロールに再実装してデザインを修正.  キーボードでの操作性をあるて・- 2020-11-02 Exportのセッティングエラーを修正.
- 2020-10-23 UniqueIDをデータ出力時の連番を振るように設計変更. 個人情報保護の仕様変更のため年齢のエクスポートを廃止. そ のほかイ・- 2020-10-27 検索をelectronでの動作が可能なように正規表現での検索に全て変更. 表示状態の保存など実装. それにあ わせて, vuexのミュ・- 2020-10-28 全機能を実装終了. マスタの最終チェック待ち. electronもインストーラー以外は完成.
- 2020-10-22 electronとwebでUIが変更に.
- 2020-10-15 electronとwebを--modeで切り替え, 環境依存の機能モジュールをフォルダ毎に切り替えて対応. web利用も継続可能.
- 2020-10-13 データベース様式, マスタなどを最終版へ. 以降はelectronでの動作となるためwebでの利用は不可能となります.
- 2020-07-30 検索が可能, まだ検索の終了は表示設定. システム共通のデータチェックを実装, データベースへの書き戻しが未実装 なのでエ・- 2020-08-02 検証でドキュメント数が増えると不都合が生じるのでPromise.allを10件ずつ実施するように変更. エラーの書き戻し, 表示設定- 2020-08-15 mergeファイルのインポートを実装. 文字コードはshift-jis, utf8いずれも受け入れ可能. Editの3ペイン表示をモジュール化.
- 2020-07-19 検索を実装あわせてstoreのクエリ管理を変更.
- 2020-07-05 暫定的ですが, 2020年版マスタを実装.それに伴い後方互換である2019年版マスタとのフィルタリング切り替えを実装.(手術実施- 2020-07-15 検証モジュールを稼働.それにより登録時に詳細なエラーメッセージを表示,それにあわせて多数の修正.
- 2020-06-23 編集画面での前後が、登録と一緒にもできるようになりました. 施設名・ID入力(検索付き)が機能します. エクスポー トが作り・- 2020-06-26 エクスポートがまだエラーチェックが不完全ですができるようになりました.
- 2020-06-10 編集での移動ボタンを移動,連続新規登録可能,リストのソート・フィルタの設定（一部）,elementのUIを一部に適応,環境依存だ- 2020-06-16 SPA版のRCに向けて大幅にUI適応を拡大, コンポーネントのメインテナンス.ハードコードのモジュール化.診断・術式検索機能の- 2020-06-18 機能未実装部分も含めてフロントエンドのパーツを実装.AEのセクション表示の問題を修正(Titleがないケースに対応,重複チェ・- 2020-06-21 パスワードが機能するようになりました. 裏でいろいろ最終的な各種機能実装が進んでいます.
- 2020-05-24 編集からの移動を実装
- 2020-05-21 データチェックのバグ修正,パスワード認証を実装（でも、パスワード設定できないのでまだ動かない）.
- 2020-05-19 【仕様修正】提出データの構成を修正.
- 2020-05-18 合併症入力の項目を修正(術中操作による合併症が表示されるように、子宮腟部吻合部漏出腟断端離開).
- 2020-05-14 項目の重複入力チェックを円滑にするためデータベース構成を変更.エラーチェックとして重複チェックを実装.
- 2020-05-07 保存データベースの構造を変更したため後方互換が無くなりました,基本的な登録機能は実装できました.(Database-Managerを用- 2020-05-13 AE入力のチェックに問題があったので修正,各セクション毎に入力時のエラーチェック実装を開始しました.
- 2020-04-20 とりあえず,症例リストを作れるようになりましたので公開.
